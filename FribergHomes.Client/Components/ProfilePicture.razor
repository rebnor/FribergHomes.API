@* Author: Tobias 2024-05-18
   ProfilePicture component
   Shows placeholder if no Realtor pictureUrl avail.
   Has default size settigns callable by parameter.
*@

<img src="@_imageUrl" width="@ImageSize(Size)" alt="profile-picture" class="border" />


@code {

    [Parameter]
    public RealtorDTO? Realtor { get; set; }

    /// <summary>
    /// Available options: "small", "medium", "large"
    /// </summary>
    [Parameter]
    public string Size { get; set; } = "medium";

    private Dictionary<string, int> _sizeStandard = new()
    {
        { "small", 200 },
        { "medium", 350 },
        { "large", 500 }
    };

    private string? _imageUrl;

    protected override void OnParametersSet()
    {
        if (string.IsNullOrEmpty(Realtor!.Picture))
        {
            _imageUrl = "/no_profilepicture.png";
            return;
        }

        _imageUrl = Realtor.Picture;
    }

    private string ImageSize(string size)
    {
        if (_sizeStandard.ContainsKey(Size.ToLower()))
        {
            return $"{_sizeStandard[size.ToLower()]}px";
        }

        return $"{_sizeStandard["medium"]}px";
    }

}
